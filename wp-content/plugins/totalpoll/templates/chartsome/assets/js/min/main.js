jQuery(function(){var a=function(d,c){this.options=c||{};this.$el=jQuery(d);this.data=JSON.parse(this.$el.attr(this.options.dataAttr)||"[]");this.type=this.$el.attr(this.options.typeAttr)||"LineChart";this.instance=new google.visualization[this.type](this.$el.get(0));this.instance.draw(google.visualization.arrayToDataTable(this.data),c.chartOptions[this.type])};var b=function(){jQuery("[data-tp-chart-canvas]").each(function(){jQuery(this).data("chart_instance",new a(this,googleChartOptions))})};jQuery(document).on("totalpoll.after.ajax",b);jQuery(window).on("resize",b);if(window.google!==undefined){google.setOnLoadCallback(b)}});